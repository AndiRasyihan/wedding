<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Wedding of Asyirah & Asrori</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&family=Cinzel:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />

    <style>
      :root {
        --primary-color: #5d5d5d;
        --accent-color: #b88e2f;
        --bg-color: #fdfcf0;
        --box-bg: #808080;
      }

      body {
        font-family: "Poppins", sans-serif;
        background-color: var(--bg-color);
        color: #333;
        overflow-x: hidden;
        background-image: url("https://www.transparenttextures.com/patterns/cream-paper.png");
      }

      /* Typography */
      h1,
      .font-aesthetic {
        font-family: "Great Vibes", cursive;
        color: var(--primary-color);
      }
      h2.event-title {
        font-family: "Cinzel", serif;
        font-weight: 700;
        letter-spacing: 2px;
        border-bottom: 2px solid #333;
        display: inline-block;
        padding-bottom: 5px;
        margin-bottom: 20px;
      }
      .bismillah {
        font-family: "Cinzel", serif;
        font-weight: bold;
        font-size: 1.5rem;
      }
      .save-the-date-font {
        font-family: "Cinzel", serif;
        font-weight: 700;
        font-size: 2.5rem;
      }

      /* --- COVER SECTION --- */
      #cover {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)),
          url("https://images.unsplash.com/photo-1470252649378-9c29740c9fa8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80");
        background-size: cover;
        background-position: center;
        z-index: 9999;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        text-align: center;
        transition: transform 1s ease-in-out;
      }

      /* Elements */
      .separator-line {
        height: 1px;
        background-color: #333;
        width: 100px;
        margin: 15px auto;
      }

      /* STYLING ACARA */
      .date-box {
        background-color: var(--box-bg);
        color: white;
        padding: 20px 10px;
        border-radius: 8px;
        text-align: center;
        display: flex;
        flex-direction: column;
        justify-content: center;
        height: 100%;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        clip-path: polygon(0% 0%, 100% 0%, 100% 90%, 50% 100%, 0% 90%);
        margin-bottom: 10px;
      }
      .date-number {
        font-size: 3.5rem;
        font-family: "Cinzel", serif;
        line-height: 1;
        font-weight: bold;
      }
      .date-month {
        font-size: 1rem;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .location-box {
        border: 2px solid #555;
        padding: 20px;
        margin-top: 20px;
        background: rgba(255, 255, 255, 0.5);
        position: relative;
      }
      .btn-location,
      .btn-rsvp {
        background-color: #666;
        color: white;
        border: none;
        padding: 8px 30px;
        text-transform: uppercase;
        font-size: 0.8rem;
        letter-spacing: 1px;
        margin-top: 10px;
        border-radius: 4px;
        transition: 0.3s;
      }
      .btn-location:hover,
      .btn-rsvp:hover {
        background-color: #444;
        color: white;
      }

      /* RSVP Section */
      .rsvp-card {
        background: rgba(255, 255, 255, 0.8);
        border-radius: 10px;
        padding: 30px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      /* --- STYLE TAMBAHAN KHUSUS PILIHAN HADIR/TIDAK (Radio Custom) --- */
      .option-group {
        display: flex;
        gap: 15px;
        justify-content: center;
        margin-bottom: 20px;
      }

      /* Sembunyikan radio button asli */
      .option-input {
        display: none;
      }

      /* Tampilan Tombol Pilihan */
      .option-label {
        flex: 1;
        padding: 15px;
        border: 2px solid #ccc;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        background: white;
        color: #555;
        font-weight: 600;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .option-label i {
        font-size: 1.5rem;
        margin-bottom: 5px;
      }

      /* Efek saat tombol "Hadir" dipilih */
      #hadir:checked + .lbl-hadir {
        border-color: #28a745;
        background-color: #e8f5e9;
        color: #28a745;
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(40, 167, 69, 0.2);
      }

      /* Efek saat tombol "Tidak Hadir" dipilih */
      #tidak:checked + .lbl-tidak {
        border-color: #dc3545;
        background-color: #f8d7da;
        color: #dc3545;
        transform: scale(1.05);
        box-shadow: 0 5px 15px rgba(220, 53, 69, 0.2);
      }
      /* ------------------------------------------------------------- */

      /* Utilities */
      .section-padding {
        padding: 80px 0;
      }
      .music-control {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background: #333;
        color: white;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        z-index: 1000;
        animation: spin 4s linear infinite;
      }
      @keyframes spin {
        100% {
          transform: rotate(360deg);
        }
      }
      .paused {
        animation-play-state: paused;
      }
    </style>
  </head>
  <body>
    <section id="cover">
      <div class="container" data-aos="zoom-in">
        <h4>The Wedding of</h4>
        <h1 class="display-1 mb-4">Asyirah & Asrori</h1>
        <p>Kepada Yth. Bapak/Ibu/Saudara/i</p>
        <div class="mb-4">
          <strong
            id="nama-tamu"
            style="font-size: 1.5rem; text-transform: capitalize"
            >Tamu Undangan</strong
          >
        </div>
        <button
          class="btn btn-light btn-lg rounded-pill px-4"
          onclick="bukaUndangan()"
        >
          <i class="fas fa-envelope-open me-2"></i> Buka Undangan
        </button>
      </div>
    </section>

    <main id="main-content" style="display: none">
      <audio id="lagu" loop>
        <source src="backsound.mp3" type="audio/mp3" />
      </audio>
      <div class="music-control" onclick="toggleMusic()">
        <i class="fas fa-compact-disc fa-lg"></i>
      </div>

      <section class="section-padding text-center">
        <div class="container">
          <div class="mb-5" data-aos="fade-up">
            <div class="separator-line w-50 mb-3"></div>
            <h2 class="bismillah mb-4">Bismillahirrahmanirrahim</h2>
            <div class="separator-line w-50 mt-3"></div>
            <p
              class="px-md-5 fst-italic mt-4"
              style="font-family: 'Cinzel', serif"
            >
              "Di antara tanda-tanda (kebesaran)-Nya ialah bahwa Dia menciptakan
              pasangan-pasangan untukmu dari (jenis) dirimu sendiri agar kamu
              merasa tenteram kepadanya..."
            </p>
            <p class="mt-3 fw-bold">( Surat Ar-Ruum : 21 )</p>
          </div>

          <div class="row justify-content-center mt-5 gy-4">
            <div class="col-md-8 text-center" data-aos="fade-up">
              <div class="d-flex flex-column align-items-center">
                <div class="separator-line"></div>
                <h2
                  class="font-aesthetic mb-2"
                  style="font-size: 2.5rem; color: #333"
                >
                  Asyirah Mawardi
                </h2>
                <p class="mb-0">Putri kesepuluh</p>
                <p class="mb-0">Bapak H. Mawardi</p>
                <p>& Ibu HJ. Siti Munawarah (alm)</p>
                <div class="separator-line"></div>
              </div>
            </div>
          </div>

          <div
            class="font-aesthetic my-4"
            style="font-size: 3rem"
            data-aos="zoom-in"
          >
            &
          </div>

          <div class="row justify-content-center gy-4">
            <div class="col-md-8 text-center" data-aos="fade-up">
              <div class="d-flex flex-column align-items-center">
                <div class="separator-line"></div>
                <h2
                  class="font-aesthetic mb-2"
                  style="font-size: 2.5rem; color: #333"
                >
                  Asrori
                </h2>
                <p class="mb-0">Putra Kedua</p>
                <p class="mb-0">Putra Bapak Pardiman</p>
                <p>& Ibu Subinem</p>
                <div class="separator-line"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section-padding bg-light text-center">
        <div class="container">
          <div class="mb-5" data-aos="fade-down">
            <h2 class="save-the-date-font">Save The Date</h2>
            <hr
              class="mx-auto"
              style="width: 100px; height: 3px; background: #333; opacity: 1"
            />
            <h4 class="fw-bold mt-4">Sabtu, 10 Januari 2026</h4>
          </div>

          <div class="row justify-content-center mb-5" data-aos="fade-up">
            <div class="col-md-8">
              <h2 class="event-title mb-3">Akad Nikah</h2>
              <p>Pukul 10:00 WITA - Selesai</p>

              <h2 class="event-title mb-3 mt-4">Resepsi</h2>
              <p>Pukul 11:00 WITA - Selesai</p>

              <div class="location-box mt-4">
                <i class="fas fa-map-marker-alt fa-2x mb-3 text-secondary"></i>
                <h5 style="font-family: 'Cinzel', serif; font-weight: bold">
                  Gedung Dr. Berbudi RS. Tadjuddin Chalid
                </h5>
                <p class="mb-2">
                  Jl. Pajjaiang, Paccerakkang, Kec. Biringkanaya, Kota Makassar
                </p>
                <a href="https://goo.gl/maps/PLACEHOLDER" target="_blank">
                  <button class="btn-location">Buka Google Maps</button>
                </a>
              </div>
            </div>
          </div>

          <div class="row justify-content-center mt-5" data-aos="zoom-in">
            <div class="col-12"><h4 class="mb-4">Menuju Hari Bahagia</h4></div>
            <div class="col-auto px-2">
              <div class="bg-dark text-white p-3 rounded">
                <h3 id="days" class="m-0">00</h3>
                <small>Hari</small>
              </div>
            </div>
            <div class="col-auto px-2">
              <div class="bg-dark text-white p-3 rounded">
                <h3 id="hours" class="m-0">00</h3>
                <small>Jam</small>
              </div>
            </div>
            <div class="col-auto px-2">
              <div class="bg-dark text-white p-3 rounded">
                <h3 id="minutes" class="m-0">00</h3>
                <small>Menit</small>
              </div>
            </div>
            <div class="col-auto px-2">
              <div class="bg-dark text-white p-3 rounded">
                <h3 id="seconds" class="m-0">00</h3>
                <small>Detik</small>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="section-padding text-center">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-md-6" data-aos="fade-up">
              <h2 class="save-the-date-font mb-4">Konfirmasi Kehadiran</h2>
              <div class="rsvp-card text-start">
                <form id="rsvpForm" name="submit-to-google-sheet">
                  <div class="mb-3">
                    <label class="form-label fw-bold">Nama Tamu</label>
                    <input
                      type="text"
                      class="form-control text-center"
                      id="inputNama"
                      name="Nama"
                      placeholder="Nama Anda"
                      required
                      readonly
                      style="background-color: #f0f0f0"
                    />
                    <small class="text-muted d-block text-center mt-1"
                      >Nama terisi otomatis dari link undangan.</small
                    >
                  </div>

                  <label class="form-label fw-bold mb-3 d-block text-center"
                    >Apakah Anda akan hadir?</label
                  >
                  <div class="option-group">
                    <input
                      type="radio"
                      class="option-input"
                      id="hadir"
                      name="Status"
                      value="Hadir"
                      required
                    />
                    <label class="option-label lbl-hadir" for="hadir">
                      <i class="fas fa-check-circle"></i>
                      <span>Hadir</span>
                    </label>

                    <input
                      type="radio"
                      class="option-input"
                      id="tidak"
                      name="Status"
                      value="Tidak Hadir"
                    />
                    <label class="option-label lbl-tidak" for="tidak">
                      <i class="fas fa-times-circle"></i>
                      <span>Maaf, Tidak</span>
                    </label>
                  </div>

                  <div class="mb-3">
                    <label for="jumlah" class="form-label">Jumlah Orang</label>
                    <input
                      type="number"
                      class="form-control text-center"
                      id="inputJumlah"
                      name="Jumlah"
                      value="1"
                      min="1"
                      required
                    />
                  </div>

                  <div class="mb-3">
                    <label for="pesan" class="form-label">Ucapan & Doa</label>
                    <textarea
                      class="form-control"
                      id="inputPesan"
                      name="Pesan"
                      rows="3"
                      placeholder="Tulis ucapan selamat..."
                    ></textarea>
                  </div>

                  <div class="d-grid mt-4">
                    <button
                      type="submit"
                      class="btn-rsvp btn-kirim"
                      style="background-color: var(--accent-color)"
                    >
                      <i class="fas fa-paper-plane me-2"></i> Konfirmasi
                      Kehadiran
                    </button>
                    <button
                      class="btn-rsvp btn-loading d-none"
                      type="button"
                      disabled
                    >
                      <span
                        class="spinner-border spinner-border-sm"
                        role="status"
                        aria-hidden="true"
                      ></span>
                      Mengirim Data...
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </section>

      <footer class="bg-dark text-white text-center py-5">
        <p>
          Atas kehadiran dan doa restu Bapak/Ibu/Saudara/i kami ucapkan terima
          kasih.
        </p>
        <h2 class="font-aesthetic mt-3">Asyirah & Asrori</h2>
      </footer>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init({ duration: 1000, once: true });

      // 1. FUNGSI UNTUK MENGAMBIL NAMA DARI URL (VERSI HASH #)
      // Agar bisa jalan di file lokal laptop tanpa error
      // Contoh link: undangan.html#Rasyihan
      let namaTamu = window.location.hash.substring(1);
      namaTamu = decodeURIComponent(namaTamu); // Mengubah %20 jadi spasi

      const namaContainer = document.getElementById("nama-tamu");
      const inputNamaForm = document.getElementById("inputNama");

      if (namaTamu) {
        namaContainer.innerText = namaTamu;
        inputNamaForm.value = namaTamu;
      } else {
        // Jika link dibuka tanpa nama, izinkan tamu ketik sendiri
        inputNamaForm.removeAttribute("readonly");
        inputNamaForm.style.backgroundColor = "white";
      }

      function bukaUndangan() {
        document.getElementById("cover").style.transform = "translateY(-100%)";
        document.getElementById("main-content").style.display = "block";
        var audio = document.getElementById("lagu");
        if (audio) {
          audio
            .play()
            .catch((error) =>
              console.log("Autoplay blocked by browser policy")
            );
        }
        window.scrollTo(0, 0);
      }

      function toggleMusic() {
        var audio = document.getElementById("lagu");
        var btn = document.querySelector(".music-control");
        if (audio.paused) {
          audio.play();
          btn.classList.remove("paused");
        } else {
          audio.pause();
          btn.classList.add("paused");
        }
      }

      // 2. FUNGSI KIRIM KE GOOGLE SHEETS
      // GANTI LINK DI BAWAH INI DENGAN LINK SCRIPT KAMU SENDIRI
      const scriptURL =
        "https://script.google.com/macros/s/AKfycbyhqAd9swURgaRuOLX_n4oHBc_4dF1nj0lXaBcUWbUNT-Pw_jIzKKF885wwr1GybI7a/exec";

      const form = document.forms["submit-to-google-sheet"];
      const btnKirim = document.querySelector(".btn-kirim");
      const btnLoading = document.querySelector(".btn-loading");

      if (form) {
        form.addEventListener("submit", (e) => {
          e.preventDefault();

          // Tampilkan tombol loading
          btnKirim.classList.toggle("d-none");
          btnLoading.classList.toggle("d-none");

          fetch(scriptURL, { method: "POST", body: new FormData(form) })
            .then((response) => {
              // Sembunyikan loading
              btnKirim.classList.toggle("d-none");
              btnLoading.classList.toggle("d-none");

              // Tampilkan Alert Sukses
              alert(
                "Terima kasih! Konfirmasi kehadiran Anda sudah kami terima."
              );

              // Reset form
              form.reset();
              // Kembalikan nama jika ada di link
              if (namaTamu) inputNamaForm.value = namaTamu;
            })
            .catch((error) => {
              console.error("Error!", error.message);
              alert(
                "Ups! Ada kesalahan saat mengirim data. Pastikan internet lancar."
              );
              btnKirim.classList.toggle("d-none");
              btnLoading.classList.toggle("d-none");
            });
        });
      }

      // COUNTDOWN
      const weddingDate = new Date("Jan 10, 2026 10:00:00").getTime();
      const x = setInterval(function () {
        const now = new Date().getTime();
        const distance = weddingDate - now;
        document.getElementById("days").innerText = Math.floor(
          distance / (1000 * 60 * 60 * 24)
        );
        document.getElementById("hours").innerText = Math.floor(
          (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        document.getElementById("minutes").innerText = Math.floor(
          (distance % (1000 * 60 * 60)) / (1000 * 60)
        );
        document.getElementById("seconds").innerText = Math.floor(
          (distance % (1000 * 60)) / 1000
        );
        if (distance < 0) clearInterval(x);
      }, 1000);
    </script>
  </body>
</html>
